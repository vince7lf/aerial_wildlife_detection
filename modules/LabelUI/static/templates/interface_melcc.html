<!doctype html>
<html lang="en">
<head>
    <title>AIDE: {{ projectShortname }}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
    <link rel="stylesheet" href="/static/general/css/cookie.css?v={{ version }}"/>
    <link rel="stylesheet" href="/static/interface/css/interface_melcc.css?v={{ version }}"/>
    <link rel="stylesheet" href="/static/general/css/messaging.css?v={{ version }}"/>
    <link rel="stylesheet" href="/static/aiController/css/workflowMonitor.css?v={{ version }}"/>

    <link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css">
    <script src="https://openlayers.org/en/v4.6.5/build/ol.js"></script>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js?v={{ version }}"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="/static/general/js/messaging.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/util.js?v={{ version }}"></script>
    <script src="/static/general/js/cookie.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/uiControlHandler.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/commandListener.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/configuration.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/renderPrimitives.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/viewport/imageViewport.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/annotationPrimitives.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/labelClassHandler.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/dataEntry.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/dataHandler.js?v={{ version }}"></script>
    <!-- <script type="text/javascript" src="/static/interface/js/aiWorkerHandler.js?v={{ version }}"></script> -->
    <script src="/static/general/js/overlay.js?v={{ version }}"></script>
    <script src="/static/general/js/progressbar.js?v={{ version }}"></script>
    <script src="/static/aiController/js/workflowMonitor.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/uitutorial.js?v={{ version }}"></script>
    <script type="text/javascript" src="/static/interface/js/init.js?v={{ version }}"></script>
</head>

<body>
<!-- Page Content -->
<div id="page-container">
    <div id="content-wrapper">
        <!-- Overlay -->
        <div id="overlay" class="overlay">
            <div id="overlay-card" class="overlay-card card container"></div>
            <div id="overlay-loader">
                <div style="text-align:center;margin-bottom:20px;font-size:20px;text-align:center;">Loading...</div>
                <!-- blatant copy of MS azure's splash screen loading dots -->
                <div class="azure-loadingdots">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>

        <!-- Navigation bar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-dark border-bottom">
            <ul class="nav navbar-nav">
                <li class="nav-item header-text">
                    <div class="project-path"><a href="/">Projects</a> / <a href="/{{ projectShortname }}"
                                                                            style="font-weight:bold">
                        {{ projectShortname }}</a> / <a href="interface">interface</a></div>
                    <h1 id="project-title">{{ projectTitle }}: annotation interface</h1>
                </li>
            </ul>
            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item" id="project-config-links" style="display:none;margin-right:120px;">
                    <a class="btn btn-sm btn-success" href="configuration/overview">Statistics</a>
                    <a class="btn btn-sm btn-secondary" href="configuration/general">Configure</a>
                    <a class="btn btn-sm btn-dark" href="configuration/dataManagement">Data Management</a>
                    <a class="btn btn-sm btn-info" href="configuration/aiModel">AI model</a>
                </li>
                <li class="nav-item dropdown float-right">
                    <button class="btn btn-sm btn-info" onclick="javascript:window.showTutorial();">Help</button>
                    <a id="login-button" class="btn btn-sm btn-primary"
                       href="/login?redirect={{ projectShortname }}/interface" style="display:none;">Log in</a>
                    <div class="dropdown nav navbar-nav" id="navbar-dropdown" style="float:right;">
                        <a class="dropdown-toggle btn" id="navbar-user-dropdown" data-toggle="dropdown" href="#"
                           style="color:white;font-weight:bold;">{{ username }}</a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="navbar-user-dropdown">
                            <li class="dropdown-item">
                                <button id="logout" class="btn btn-sm btn-danger">Log Out</button>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
        <div class="grad-border-h"></div>

        <div class="wrapper h-100">

            <!-- Image Display -->
            <div id="gallery-container">
                <div id="gallery"></div>
                <div id="gallery-scroll-tooltip-bottom" class="scroll-tooltip">More</div>
                <div class="container widescreen" id="interface-controls"></div>
        </div>

        <!-- Toolboxes -->
        <div id="tools-container">
            <!-- Label Classes search box -->
            <div id="classes-container" class="toolbox" style="order:0;flex-shrink:0">
                <h2>Classes</h2>
                <input type="search" id="labelclass-search-box" placeholder="find..."/>
            </div>

            <!-- Label Classes -->
            <div id="classes-container" class="toolbox" style="order:1;height:100%">
                <div id="legend-entries"></div>
            </div>

            <div id="toolbox-divider" class="grad-border-h"
                 style="order:2;flex-shrink:0;margin-top:10px;margin-bottom:10px;display:none;"></div>

        </div>
    </div>
</div>

<footer class="page-footer" id="footer">

    <!-- Mini message entry -->
    <div id="footer-message-panel" style="display:none;"></div>

    <!-- Collapsible AI worker panel -->
    <div id="ai-worker-panel" class="ai-worker-panel">
        <h2 id="ai-worker-panel-header">AI Backend</h2>
        <div class="grad-border-h"></div>
        <div class="container" id="ai-task-monitor" style="max-height:330px;overflow-y:auto;"></div>
        <div class="grad-border-h" style="position:absolute;bottom:0"></div>
    </div>

    <!-- Mini-entry in footer to it -->
    <div class="ai-worker-panel" id="ai-worker-minipanel" style="display:none;">
        <div class="grad-border-v"></div>
        <span class="minipanel-span">AI</span>
        <div id="ai-minipanel-status" class="minipanel-span" style="flex:3"></div>
        <div class="grad-border-v"></div>
    </div>

    <div id="cookie-message">
        AIDE uses a few cookies to work, but doesn't care about your personal data. <a href="/privacy">More info</a>.
        <button class="btn btn-secondary" id="cookie-message-close">Close</button>
    </div>
    <div class="ms-logo">
        <a href="about"><img height="100%" src="/static/general/img/ms_logo.png"/></a>
    </div>
</footer>
</div>

<!-- messaging overlay -->
<div id="messager-container" class="messager-container"></div>
</body>

</html>